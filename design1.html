<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Escape Room MP3 Player with Timer</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
  }
  #passcodeInput {
    margin-top: 20px;
    padding: 5px;
    font-size: 16px;
  }
</style>
</head>
<body>
<audio id="audioPlayer" src="assets/Panic Alarm Sound Effect.mp3" loop></audio>
<h1>THE COPS ARE COMING!!!</h1>
<p>This page will play an MP3 file when you press the "GO" button and starts a timer that counts down from 12 minutes.</p>
<button id="goButton">GO</button>
<div id="timer">12:00</div>
<form id="passcodeForm" style="display: none;">
  <input type="password" id="passcodeInput" placeholder="Enter passcode">
  <input type="submit" value="Submit">
</form>
<p id="congratsMessage" style="display: none;">Congratulations, you've escaped!</p>

<script>
  let audioPlayer = document.getElementById('audioPlayer');
  let timerDisplay = document.getElementById('timer');
  let goButton = document.getElementById('goButton');
  let passcodeForm = document.getElementById('passcodeForm');
  let passcodeInput = document.getElementById('passcodeInput');
  let congratsMessage = document.getElementById('congratsMessage');
  let timerInterval;

  // Function to start the audio and timer
  function startAudioAndTimer() {
    audioPlayer.play();
    goButton.disabled = true; // Disable the GO button after pressing
    let timeLeft = 12 * 60; // 12 minutes in seconds
    updateTimerDisplay(timeLeft);
    timerInterval = setInterval(function() {
      timeLeft--;
      updateTimerDisplay(timeLeft);
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        showPasscodeForm();
      }
    }, 1000);
  }

  // Function to update the timer display
  function updateTimerDisplay(timeLeft) {
    let minutes = Math.floor(timeLeft / 60);
    let seconds = timeLeft % 60;
    timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
  }

  // Function to show the passcode form and stop the timer
  function showPasscodeForm() {
    clearInterval(timerInterval);
    audioPlayer.pause();
    passcodeForm.style.display = 'block';
  }

  // Event listener for the GO button click
  goButton.addEventListener('click', startAudioAndTimer);

  // Event listener for the passcode form submission
  passcodeForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const passcode = passcodeInput.value;
    if (passcode === '1234') { // Change 'your-passcode' to your actual passcode
      passcodeForm.style.display = 'none'; // Hide the passcode form
      congratsMessage.style.display = 'block'; // Show the congrats message
    } else {
      alert('Incorrect passcode. Please try again.');
    }
  });
</script>
</body>
</html>
